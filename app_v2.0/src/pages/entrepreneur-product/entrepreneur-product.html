<!--
  Generated template for the EntrepreneurProductPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar color="primary">
      <ion-title>{{catName}}</ion-title>
      <ion-buttons end>
          <button ion-button [navPush]="entCartPage" [navParams]="entCartObj">
            <ion-icon name="cube"></ion-icon>&nbsp;
            <span *ngIf="entCartObj">{{entCartObj.totalProduct}}</span>
          </button>
        </ion-buttons>    
    </ion-navbar>
</ion-header>


<ion-content padding>
    <ion-list *ngFor="let product of products" no-padding>
        <ion-row>
            <ion-col no-padding>
              <ion-card no-padding >
                <ion-row>
                  <ion-col col-4 class="service-img">
                    <img src="./assets/imgs/{{product.picture}}" alt="">
                  </ion-col>
                  <ion-col col-6>
                    <div class="card-title" >{{product.title}}</div>
                    <div class="price">{{product.price_fcfa}} Fcfa</div>
                  </ion-col>
                  <ion-col *ngIf="entCartObj && entCartObj.products[product.id]; else empty" col-2 class="icon added" >
                      <div class="item-add" (click)="addItemToCart(entCartObj, product.id, product.title, product.price_fcfa, product.picture, product.decimal)">
                        <ion-icon name="add"></ion-icon>
                      </div>
                      <div class="item-qty">
                          <span>{{entCartObj.products[product.id].qty}}</span>
                      </div>
                      <div class="item-remove" (click)="removeItemToCart(entCartObj, product.id, product.title, product.price_fcfa, product.picture, product.decimal)">
                          <ion-icon name="remove"></ion-icon>
                      </div>
                  </ion-col>
                  <ng-template #empty>                    
                    <ion-col col-2 class="empty icon" (click)="addItemToCart(entCartObj, product.id, product.title, product.price_fcfa, product.picture, product.decimal)">
                        <ion-icon name="add"></ion-icon>
                    </ion-col>
                  </ng-template>
                </ion-row>
              </ion-card>
            </ion-col>
          </ion-row>
      </ion-list>

</ion-content>
